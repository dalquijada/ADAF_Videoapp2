<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>ADAF VideoChat</title>

        <!-- Use Bootswatch CSS from cdn -->
        <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootswatch/3.4.1/flatly/bootstrap.min.css"
        />
    </head>

    <body
        style="
            background-image: url(https://images.pexels.com/photos/82256/pexels-photo-82256.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260);
        "
    >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-lg-6">
                    <!-- 
                    Display video of the current user
                    Note: mute your own video, otherwise you'll hear yourself ...
                 -->
                    <div class="text-center">
                        <video
                            id="my-camera"
                            width="300"
                            height="300"
                            autoplay="autoplay"
                            muted="true"
                            class="center-block"
                        ></video>
                        <span
                            class="label"
                            style="
                                color: white;
                                background-color: rgb(20, 110, 20);
                            "
                            >Tu</span
                        >
                    </div>
                </div>

                <div class="col-md-6 col-lg-6">
                    <!-- Display video of the connected peer -->
                    <div class="text-center">
                        <video
                            id="peer-camera"
                            width="300"
                            height="300"
                            autoplay="autoplay"
                            class="center-block"
                        ></video>
                        <span
                            class="label"
                            style="
                                color: white;
                                background-color: rgb(20, 110, 20);
                            "
                            id="connected_peer"
                        ></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <h1 class="text-center" style="color: rgb(110, 20, 110)">
                    ADAF VideoChat
                    <br />
                    <small style="color: rgb(110, 20, 110)">
                        Comparte el siguiente ID con el compañero que
                        desees</small
                    >
                </h1>
                <!-- The ID of your current session -->
                <h4 class="text-center">
                    <span id="peer-id-label" style="color: black"></span>
                </h4>
                <div class="col-md-12 col-lg-12">
                    <div class="form-horizontal" id="connection-form">
                        <fieldset>
                            <legend style="color: rgb(110, 20, 110)">
                                Formulario de Conexion
                            </legend>
                            <div class="form-group">
                                <label
                                    for="name"
                                    class="col-lg-2 control-label"
                                    style="color: black"
                                    >Nombre</label
                                >
                                <div class="col-lg-10">
                                    <input
                                        type="text"
                                        class="form-control"
                                        name="name"
                                        id="name"
                                        placeholder="Ingresa un nombre cualquiera"
                                    />
                                </div>
                            </div>
                            <div class="form-group">
                                <label
                                    style="color: black"
                                    for="peer_id"
                                    class="col-lg-2 control-label"
                                    >Peer ID (id de compañero)</label
                                >
                                <div class="col-lg-10">
                                    <input
                                        type="text"
                                        class="form-control"
                                        name="peer_id"
                                        id="peer_id"
                                        placeholder="Peer ID"
                                        autocomplete="off"
                                        autocorrect="off"
                                        autocapitalize="off"
                                        spellcheck="false"
                                    />

                                    <!-- Show message if someone connected to the client -->
                                    <div
                                        id="connected_peer_container"
                                        class="hidden"
                                    >
                                        Un usuario ya se ha conectado con usted,
                                        solo introduzca el nombre que desee !
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-10 col-lg-offset-2">
                                    <button
                                        id="connect-to-peer-btn"
                                        class="btn"
                                        style="
                                            color: white;
                                            background-color: rgb(110, 20, 110);
                                        "
                                    >
                                        Conectar
                                    </button>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="col-md-12 col-lg-12">
                    <div id="chat" class="hidden">
                        <div id="messages-container">
                            <div
                                class="list-group"
                                id="messages"
                                style="background-color: whitesmoke"
                            ></div>
                        </div>
                        <div id="message-container">
                            <div class="form-group">
                                <label
                                    class="control-label"
                                    style="color: black"
                                    >Live chat</label
                                >
                                <div class="input-group">
                                    <span class="input-group-btn">
                                        <button
                                            id="call"
                                            class="btn"
                                            style="
                                                color: white;
                                                background-color: rgb(
                                                    20,
                                                    110,
                                                    20
                                                );
                                            "
                                        >
                                            Llamar
                                        </button>
                                    </span>
                                    <input
                                        type="text"
                                        class="form-control"
                                        name="message"
                                        id="message"
                                        placeholder="Escribe mensajes aquí ..."
                                    />
                                    <span class="input-group-btn">
                                        <button
                                            id="send-message"
                                            class="btn"
                                            style="
                                                color: white;
                                                background-color: rgb(
                                                    110,
                                                    20,
                                                    110
                                                );
                                            "
                                        >
                                            Enviar Mensaje
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
        <script src="resources/js/script.js"></script>
    </body>
</html>
